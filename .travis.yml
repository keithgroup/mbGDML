language: python
python:
  - 3.9
install:
  - pip install natsort cclib numpy ase mako matplotlib umap-learn bayes_opt
  - pip install pytest-cov codecov furo Sphinx coverage bump2version
  - pip install wheel watchdog tox twine
script:
  - pip install .
after_success:
  - pytest --cov=./
  - ./docs/build-docs.sh
  - codecov
deploy:
  provider: pages
  skip-cleanup: true
  local_dir: docs/html/
  github-token: $GITHUB_TOKEN
  keep-history: true
  target_branch: gh-pages
  on:
    branch: main
    repo: keithgroup/mbGDML