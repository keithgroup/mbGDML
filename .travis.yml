language: python
python:
- 3.9
install:
- pip install natsort cclib numpy ase mako matplotlib umap-learn
- pip install pytest-cov codecov furo Sphinx coverage bump2version
- pip install wheel watchdog tox twine
- git clone https://github.com/aalexmmaldonado/sGDML
- cd sGDML
- git pull
- git checkout logging
- pip install .
- cd ..
script:
- pip install .
- sphinx-apidoc --force -o docs/source/doc/ mbgdml ./tests/
- sphinx-build -nT docs/source/ docs/html/
- touch ./docs/html/.nojekyll
- pytest --cov=./
after_success:
- codecov
deploy:
  provider: pages
  skip-cleanup: true
  local_dir: docs/html/
  github-token: $GITHUB_TOKEN
  keep-history: true
  target_branch: gh-pages
  on:
    branch: main